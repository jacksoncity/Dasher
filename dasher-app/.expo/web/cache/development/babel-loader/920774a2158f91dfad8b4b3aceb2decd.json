{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nvar _jsxFileName = \"/Users/andreatyson/compsci/csci335/Dasher/dasher-app/src/SaveDriveScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport 'react-native-gesture-handler';\nimport { useForm, Controller } from 'react-hook-form';\nimport React, { useEffect, useState, Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nexport function SaveDriveScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useForm = useForm({\n    criteriaMode: 'all'\n  }),\n      control = _useForm.control,\n      handleSubmit = _useForm.handleSubmit,\n      setError = _useForm.setError,\n      errors = _useForm.errors;\n\n  var commentText = React.useRef();\n  var restaurantInputRef = React.useRef();\n\n  var saveComments = function saveComments(data) {\n    var json, restaurant_name, comment, comm, response;\n    return _regeneratorRuntime.async(function saveComments$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            json = JSON.parse(JSON.stringify(data));\n            console.log(json);\n            restaurant_name = json[\"restaurant_name\"];\n            comment = json[\"comment\"];\n            comm = {\n              restaurant_name: restaurant_name,\n              comment: comment\n            };\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(fetch(\"http://localhost:5000/add_comment\", {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify(comm)\n            }));\n\n          case 7:\n            response = _context.sent;\n            console.log(response);\n\n            if (response.status === 201) {\n              alert('Comments successfully saved!');\n              navigation.navigate('Main');\n            } else {\n              alert('Error in comment saving... Please make sure you filled in both fields to save comment.');\n            }\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"Add Comments\"), React.createElement(Text, {\n    style: {\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"Restaurant Name\"), React.createElement(Controller, {\n    name: \"restaurant_name\",\n    control: control,\n    rules: {\n      required: 'This is required'\n    },\n    defaultValue: \"\",\n    render: function render(props) {\n      return React.createElement(TextInput, _extends({}, props, {\n        style: styles.textbox,\n        onChangeText: function onChangeText(value) {\n          props.onChange(value);\n        },\n        ref: restaurantInputRef,\n        maxLength: 30,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: {\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Comments\"), React.createElement(Controller, {\n    name: \"comment\",\n    control: control,\n    rules: {\n      required: 'This is required'\n    },\n    defaultValue: \"\",\n    render: function render(props) {\n      return React.createElement(TextInput, _extends({}, props, {\n        style: styles.commentsBox,\n        onChangeText: function onChangeText(value) {\n          props.onChange(value);\n        },\n        multiline: true,\n        ref: commentText,\n        maxLength: 125,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: handleSubmit(saveComments),\n    style: {\n      backgroundColor: 'white',\n      marginHorizontal: 5,\n      marginVertical: 10,\n      paddingHorizontal: 5,\n      borderWidth: 1,\n      borderRadius: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      marginHorizontal: 10,\n      marginVertical: 10,\n      paddingHorizontal: 5,\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"Save Comment\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Main');\n    },\n    style: {\n      backgroundColor: 'rgba(150,150,150,.5)',\n      marginHorizontal: 5,\n      marginVertical: 10,\n      paddingHorizontal: 5,\n      borderWidth: 1,\n      borderRadius: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      marginHorizontal: 10,\n      marginVertical: 10,\n      paddingHorizontal: 5,\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, \"  Back to Main  \")));\n}\nvar styles = StyleSheet.create({\n  commentsBox: {\n    backgroundColor: 'rgba(255,255,255,.5)',\n    height: 150,\n    width: 200,\n    marginTop: 10,\n    marginBottom: 20,\n    borderRadius: 5,\n    borderColor: 'white',\n    borderWidth: 1,\n    flexWrap: 'wrap',\n    overflow: 'scroll',\n    padding: 5\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#66cc99',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  textbox: {\n    backgroundColor: 'rgba(255,255,255,.5)',\n    height: 40,\n    width: 200,\n    marginTop: 10,\n    marginBottom: 20,\n    borderRadius: 5,\n    borderColor: 'white',\n    borderWidth: 1,\n    padding: 5\n  },\n  title: {\n    color: 'black',\n    fontSize: 30,\n    marginHorizontal: 15,\n    marginVertical: 15,\n    padding: 7,\n    paddingHorizontal: 20,\n    borderRadius: 5\n  }\n});","map":{"version":3,"sources":["/Users/andreatyson/compsci/csci335/Dasher/dasher-app/src/SaveDriveScreen.js"],"names":["useForm","Controller","React","useEffect","useState","Component","SaveDriveScreen","navigation","criteriaMode","control","handleSubmit","setError","errors","commentText","useRef","restaurantInputRef","saveComments","data","json","JSON","parse","stringify","console","log","restaurant_name","comment","comm","fetch","method","headers","body","response","status","alert","navigate","styles","container","title","textAlign","required","props","textbox","value","onChange","commentsBox","backgroundColor","marginHorizontal","marginVertical","paddingHorizontal","borderWidth","borderRadius","fontSize","color","StyleSheet","create","height","width","marginTop","marginBottom","borderColor","flexWrap","overflow","padding","flex","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import 'react-native-gesture-handler'\nimport { useForm, Controller } from 'react-hook-form'\nimport React, { useEffect, useState, Component } from 'react'\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity } from 'react-native'\n\nexport function SaveDriveScreen ({ navigation }) {\n    const {control, handleSubmit, setError, errors} = useForm( { criteriaMode: 'all' })\n    const commentText = React.useRef()\n    const restaurantInputRef = React.useRef()\n  \n    const saveComments = async (data) => {\n      // call save comments api here\n      const json = JSON.parse(JSON.stringify(data))\n      console.log(json)\n      const restaurant_name = json[\"restaurant_name\"]\n      const comment = json[\"comment\"]\n      const comm = {restaurant_name, comment}\n      const response = await fetch(\"http://localhost:5000/add_comment\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(comm)\n      })\n      console.log(response);\n      if (response.status === 201) {\n        alert('Comments successfully saved!')\n        navigation.navigate('Main')\n      } else {\n          alert('Error in comment saving... Please make sure you filled in both fields to save comment.')\n      }\n    }\n  \n    return (\n      <View style={styles.container}>\n        <Text style={styles.title}>Add Comments</Text>\n        <Text style={{textAlign: 'left'}}>Restaurant Name</Text>\n        <Controller \n          name=\"restaurant_name\" \n          control={control} \n          rules= {{required: 'This is required'}}\n          defaultValue=''\n          render={(props) => \n            <TextInput {...props} \n              style={styles.textbox}\n              onChangeText={(value) => {\n                props.onChange(value)\n              }} \n              ref={restaurantInputRef}\n              maxLength={30}\n            />\n          }/>\n        <Text style={{textAlign: 'left'}}>Comments</Text>\n        <Controller \n          name=\"comment\" \n          control={control} \n          rules= {{required: 'This is required'}}\n          defaultValue=''\n          render={(props) => \n            <TextInput {...props} \n              style={styles.commentsBox}\n              // placeholder={\"Add comments about the restaurant here!\"}\n              onChangeText={(value) => {\n                props.onChange(value)\n              }} \n              multiline={true}\n              ref={commentText}\n              maxLength={125}\n            />\n          }/>\n        <TouchableOpacity onPress={handleSubmit(saveComments)} style={{backgroundColor: 'white', marginHorizontal: 5, marginVertical: 10, paddingHorizontal: 5, borderWidth: 1, borderRadius: 20}}>\n          <Text style={{fontSize: 20, marginHorizontal: 10, marginVertical: 10, paddingHorizontal: 5, color: 'black'}}>Save Comment</Text>\n        </TouchableOpacity> \n\n        <TouchableOpacity onPress={() => navigation.navigate('Main')} style={{backgroundColor: 'rgba(150,150,150,.5)', marginHorizontal: 5, marginVertical: 10, paddingHorizontal: 5, borderWidth: 1, borderRadius: 20}}>\n          <Text style={{fontSize: 20, marginHorizontal: 10, marginVertical: 10, paddingHorizontal: 5, color: 'black'}}>  Back to Main  </Text>\n        </TouchableOpacity>\n      </View>\n    )\n  }\n\n\nconst styles = StyleSheet.create({\n    commentsBox: {\n        backgroundColor: 'rgba(255,255,255,.5)',\n        height: 150,\n        width: 200,\n        marginTop: 10,\n        marginBottom: 20,\n        borderRadius: 5,\n        borderColor: 'white',\n        borderWidth: 1,\n  \n        flexWrap: 'wrap',\n        overflow: 'scroll',\n        padding: 5\n    },\n    container: {\n      flex: 1,\n      backgroundColor: '#66cc99',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    textbox: {\n        backgroundColor: 'rgba(255,255,255,.5)',\n          height: 40,\n          width: 200,\n          marginTop: 10,\n          marginBottom: 20,\n          borderRadius: 5,\n          borderColor: 'white',\n          borderWidth: 1,\n          padding: 5\n    },\n    title: {\n        color: 'black',\n        fontSize: 30,\n        // backgroundColor: 'white',\n        marginHorizontal: 15,\n        marginVertical: 15,\n        padding: 7,\n        paddingHorizontal: 20,\n        borderRadius: 5\n    },\n})"]},"metadata":{},"sourceType":"module"}